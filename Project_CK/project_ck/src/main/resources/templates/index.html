<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Danh sách Sinh Viên</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body style="background-color: powderblue;">
    <ul>
        <li><a href="/" id="List">Danh Sách SV</a></li>
        <li><a href="/themSV" id="Add">Thêm Mới</a></li>
    </ul>
    <h1 style="text-align: center;">Danh sách SV</h1>
    <table class="table table-bordered">
        <thead class="table-light">
            <tr>
                <th class="fw-normal">Name</th>
                <th class="fw-normal">Student Code</th>
                <th class="fw-normal">Email</th>
                <th class="fw-normal">Phone</th>
                <th class="fw-normal">Subjects</th>
                <th class="fw-normal">Tùy chọn</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="student : ${students}">
                <td th:text="${student.name}"></td>
                <td th:text="${student.studentCode}"></td>
                <td th:text="${student.email}"></td>
                <td th:text="${student.phone}"></td>
                <td>
                    <table class="table table-bordered">
                        <thead></thead>
                        <tbody>
                            <tr th:each="grade : ${student.grades}">
                                <td th:text="${grade.subject.name}"></td>
                                <td th:text="${grade.score}"></td>
                            </tr>
                        </tbody>
                    </table>
                </td>
                <td>
                    <!-- Nút sửa -->
                    <a th:href="@{'/editSV/' + ${student.id}}" class="btn btn-primary">Sửa</a>
                    <!-- Nút xóa -->
                    <a th:href="@{'/deleteStudent/' + ${student.id}}" class="btn btn-danger">Xóa</a>
                </td>
            </tr>
        </tbody>
    </table>
    <script>
        // Bắt sự kiện click vào thẻ <a> có ID là "Add"
        document.getElementById("Add").addEventListener("click", function () {
            // Chuyển hướng đến trang thêm sinh viên khi click vào thẻ <a>
            window.location.href = "themSV.html";
        });
    </script>
    <script>
        document.getElementById("List").addEventListener("click", function () {
            window.location.href = "index.html";
        });
    </script>
</body>
</html>
